kevinakohls@DESKTOP-R10POV0:/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit$ npm test

> bloccit@1.0.0 test /mnt/c/Users/Kevin Kohls/BlocProjects/bloccit
> export NODE_ENV=test && jasmine

Started
server is listening for requests on port 3000
.sequelize deprecated Model.all has been deprecated, please use Model.findAll instead node_modules/sequelize/lib/model.js:4228:9
sequelize deprecated Model.findById has been deprecated, please use Model.findByPk instead node_modules/sequelize/lib/model.js:4208:9
.....................FFF................null
................................

Failures:
1) routes : posts Authorization for testing GET /topics/:topicId/posts/:id should validate an up vote
  Message:
    Error: Timeout - Async callback was not invoked within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)
  Stack:
    Error: Timeout - Async callback was not invoked within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)
        at <Jasmine>
        at ontimeout (timers.js:482:11)
        at tryOnTimeout (timers.js:317:5)
        at Timer.listOnTimeout (timers.js:277:5)

2) routes : posts GET /topics/:topicId/posts/:id should validate an up vote
  Message:
    Error: Timeout - Async callback was not invoked within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)
  Stack:
    Error: Timeout - Async callback was not invoked within 5000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL)
        at <Jasmine>
        at ontimeout (timers.js:482:11)
        at tryOnTimeout (timers.js:317:5)
        at Timer.listOnTimeout (timers.js:277:5)

3) routes : posts GET /topics/:topicId/posts/:id should validate an up vote
  Message:
    Expected 1 to be 3.
  Stack:
    Error: Expected 1 to be 3.
        at <Jasmine>
        at Vote.count.then (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:536:38)
        at tryCatcher (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/util.js:16:23)
        at Promise._settlePromiseFromHandler (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/promise.js:512:31)
        at Promise._settlePromise (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/promise.js:569:18)
        at Promise._settlePromise0 (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/promise.js:614:10)
        at Promise._settlePromises (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/promise.js:694:18)
        at _drainQueueStep (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/async.js:138:12)
        at _drainQueue (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/async.js:131:9)
        at Async._drainQueues (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/async.js:147:5)
        at Immediate.Async.drainQueues (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/bluebird/js/release/async.js:17:14)
        at runCallback (timers.js:794:20)
        at tryOnImmediate (timers.js:752:5)
        at processImmediate [as _immediateCallback] (timers.js:729:5)

Suite error: routes : posts Authorization for testing GET /topics/:topicId/posts/:id
  Message:
    TypeError: Cannot read property 'id' of undefined
  Stack:
        at <Jasmine>
        at Suite.describe (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:466:47)
        at <Jasmine>
        at Suite.describe (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:454:9)
        at <Jasmine>
        at Suite.describe (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:438:5)
        at <Jasmine>
        at Object.<anonymous> (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:11:1)
        at Module._compile (module.js:652:30)
        at Object.Module._extensions..js (module.js:663:10)
        at Module.load (module.js:565:32)
        at tryModuleLoad (module.js:505:12)
        at Function.Module._load (module.js:497:3)
        at Module.require (module.js:596:17)
        at require (internal/module.js:11:18)
        at /mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/jasmine.js:89:5
        at <Jasmine>

Suite error: routes : posts GET /topics/:topicId/posts/:id
  Message:
    TypeError: Cannot read property 'id' of undefined
  Stack:
        at <Jasmine>
        at Suite.describe (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:501:43)
        at <Jasmine>
        at Suite.describe (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:489:5)
        at <Jasmine>
        at Object.<anonymous> (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/spec/integration/posts_spec.js:11:1)
        at Module._compile (module.js:652:30)
        at Object.Module._extensions..js (module.js:663:10)
        at Module.load (module.js:565:32)
        at tryModuleLoad (module.js:505:12)
        at Function.Module._load (module.js:497:3)
        at Module.require (module.js:596:17)
        at require (internal/module.js:11:18)
        at /mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/jasmine.js:89:5
        at <Jasmine>
        at Jasmine.loadSpecs (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/jasmine.js:88:18)
        at Jasmine.execute (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/jasmine.js:257:8)
        at runJasmine (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/command.js:158:11)
        at Command.run (/mnt/c/Users/Kevin Kohls/BlocProjects/bloccit/node_modules/jasmine/lib/command.js:56:9)

73 specs, 5 failures
Finished in 26.913 seconds













// IGNORE - SAVED CODE 

       /*
                    describe("GET /topics/:topicId/posts/:id", () => {

                        it("should validate mutiple votes", (done) => {
                            request.get(`${base}/${this.topic.id}/posts/${this.post.id}`, (err, res, body) => {

                                Vote.create({
                                    value: 1,
                                    userId: this.user.id + 1,
                                    postId: this.post.id

                                })
                                expect(post.votes[2].value).toBe(1);

                                done();
                            });
                        });

                    });

                    describe("GET /topics/:topicId/posts/:id", () => {

                        it("should validate a down vote", (done) => {
                            request.get(`${base}/${this.topic.id}/posts/${this.post.id}`, (err, res, body) => {

                                Vote.create({
                                    value: -1,
                                    userId: this.user.id,
                                    postId: this.post.id

                                })
                                expect(post.body).toContain("Has an Down Vote");
                                expect(post.votes[3].value).toBe(-1);

                                done();
                            });
                        });

                    });
        */
